<!DOCTYPE html>
<html lang="fsharp">
  <head>
    <meta charset="utf-8">
      <title>Class Command&lt;&#39;TSystem, &#39;TState, &#39;TInput, &#39;TOutput&gt; | Hedgehog .NET </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class Command&lt;&#39;TSystem, &#39;TState, &#39;TInput, &#39;TOutput&gt; | Hedgehog .NET ">
      
      <meta name="description" content="Base class for commands that perform stateful operations and return values. Commands are the building blocks of state machine tests - they represent operations on a system under test (SUT) that can be generated, executed, and verified. The SUT is passed as a typed parameter to Execute and Ensure. Execute returns a Task to support both synchronous and asynchronous operations.">
      <link rel="icon" href="../images/favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/hedgehogqa/fsharp-hedgehog/new/master/apiSpec/new?filename=Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput_.md&amp;value=---%0Auid%3A%20Hedgehog.Stateful.Command_TSystem%2C%20TState%2C%20TInput%2C%20TOutput_%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo.png" alt="Hedgehog .NET">
            Hedgehog .NET
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

        </div>

        <article data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_">



  <h1 id="Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput_" data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_" class="text-break">
Class Command&lt;&#39;TSystem, &#39;TState, &#39;TInput, &#39;TOutput&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/hedgehogqa/fsharp-hedgehog/blob/master/src/Hedgehog.Stateful/Command.fs/#L21"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><span class="xref">Hedgehog.Stateful</span></dd></dl>
  <dl><dt>Assembly</dt><dd>Hedgehog.Stateful.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Base class for commands that perform stateful operations and return values.
Commands are the building blocks of state machine tests - they represent operations
on a system under test (SUT) that can be generated, executed, and verified.
The SUT is passed as a typed parameter to Execute and Ensure.
Execute returns a Task to support both synchronous and asynchronous operations.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput_" type="button">F#</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput_" type="button">C#</button>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane show active" id="tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput_">
        <pre><code class="lang-fsharp hljs">type Command&lt;&#39;TSystem, &#39;TState, &#39;TInput, &#39;TOutput&gt; =
  abstract member Ensure : env:Env * oldState:&#39;TState * newState:&#39;TState * input:&#39;TInput * output:&#39;TOutput -&gt; bool
  abstract member Execute : sut:&#39;TSystem * env:Env * state:&#39;TState * input:&#39;TInput -&gt; Task&lt;&#39;TOutput&gt;
  abstract member Generate : &#39;TState -&gt; Gen&lt;&#39;TInput&gt;
  abstract member Name : string
  abstract member Precondition : &#39;TState -&gt; bool
  abstract member Require : env:Env * state:&#39;TState * input:&#39;TInput -&gt; bool
  abstract member Update : state:&#39;TState * input:&#39;TInput * output:Var&lt;&#39;TOutput&gt; -&gt; &#39;TState</code></pre>
      </div>
      <div class="tab-pane" id="tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput_">
        <pre><code class="lang-csharp hljs">public class Command&lt;TSystem, TState, TInput, TOutput&gt; {
  abstract bool Ensure(Env env, TState oldState, TState newState, TInput input, TOutput output)
  abstract Task&lt;TOutput&gt; Execute(TSystem sut, Env env, TState state, TInput input)
  abstract Gen&lt;TInput&gt; Generate(TState state)
  abstract string Name()
  abstract bool Precondition(TState state)
  abstract bool Require(Env env, TState state, TInput input)
  abstract TState Update(TState state, TInput input, Var&lt;TOutput&gt; output)
}</code></pre>
      </div>
    </div>
  </div>













  <h2 class="section" id="methods">Methods
</h2>



  <h3 id="Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Ensure_Env_TState_TState_TInput_TOutput" data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_.Ensure-Env-TState-TState-TInput-TOutput">
  Ensure
  <a class="header-action link-secondary" title="View source" href="https://github.com/hedgehogqa/fsharp-hedgehog/blob/master/src/Hedgehog.Stateful/Command.fs/#L89"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Verify the command's postcondition after execution.
Compare the model state transitions (s0 -&gt; s1) with the actual output.
Should only verify based on states, input, and output - not inspect the SUT directly.
Returns true if postcondition is satisfied, false otherwise.
May throw exceptions which will be caught and treated as failures.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>env</code>: The environment containing resolved values from previous commands.</li>
<li><code>oldState</code>: The model state before the command executed.</li>
<li><code>newState</code>: The model state after the command executed.</li>
<li><code>input</code>: The input value for this command.</li>
<li><code>output</code>: The actual output value produced by the command.</li>
</ul>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Ensure_Env_TState_TState_TInput_TOutput" type="button">F#</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Ensure_Env_TState_TState_TInput_TOutput" type="button">C#</button>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane show active" id="tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Ensure_Env_TState_TState_TInput_TOutput">
        <pre><code class="lang-fsharp hljs">abstract member Ensure : env:Env * oldState:&#39;TState * newState:&#39;TState * input:&#39;TInput * output:&#39;TOutput -&gt; bool</code></pre>
      </div>
      <div class="tab-pane" id="tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Ensure_Env_TState_TState_TInput_TOutput">
        <pre><code class="lang-csharp hljs">abstract bool Ensure(Env env, TState oldState, TState newState, TInput input, TOutput output)</code></pre>
      </div>
    </div>
  </div>














  <h3 id="Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Execute_TSystem_Env_TState_TInput" data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_.Execute-TSystem-Env-TState-TInput">
  Execute
  <a class="header-action link-secondary" title="View source" href="https://github.com/hedgehogqa/fsharp-hedgehog/blob/master/src/Hedgehog.Stateful/Command.fs/#L65"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Execute the command against the real system, returning a Task.
For synchronous operations, use Task.FromResult(value).
The sut parameter is the typed System Under Test.
The state parameter is the current model state.
The env contains resolved values from previous commands.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>sut</code>: The system under test.</li>
<li><code>env</code>: The environment containing resolved values from previous commands.</li>
<li><code>state</code>: The current model state.</li>
<li><code>input</code>: The input value for this command.</li>
</ul>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Execute_TSystem_Env_TState_TInput" type="button">F#</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Execute_TSystem_Env_TState_TInput" type="button">C#</button>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane show active" id="tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Execute_TSystem_Env_TState_TInput">
        <pre><code class="lang-fsharp hljs">abstract member Execute : sut:&#39;TSystem * env:Env * state:&#39;TState * input:&#39;TInput -&gt; Task&lt;&#39;TOutput&gt;</code></pre>
      </div>
      <div class="tab-pane" id="tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Execute_TSystem_Env_TState_TInput">
        <pre><code class="lang-csharp hljs">abstract Task&lt;TOutput&gt; Execute(TSystem sut, Env env, TState state, TInput input)</code></pre>
      </div>
    </div>
  </div>














  <h3 id="Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Generate_TState" data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_.Generate-TState">
  Generate
  <a class="header-action link-secondary" title="View source" href="https://github.com/hedgehogqa/fsharp-hedgehog/blob/master/src/Hedgehog.Stateful/Command.fs/#L39"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Generate random input for this command given the current model state.
This is only called when Precondition returns true.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>state</code>: The current model state.</li>
</ul>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Generate_TState" type="button">F#</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Generate_TState" type="button">C#</button>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane show active" id="tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Generate_TState">
        <pre><code class="lang-fsharp hljs">abstract member Generate : &#39;TState -&gt; Gen&lt;&#39;TInput&gt;</code></pre>
      </div>
      <div class="tab-pane" id="tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Generate_TState">
        <pre><code class="lang-csharp hljs">abstract Gen&lt;TInput&gt; Generate(TState state)</code></pre>
      </div>
    </div>
  </div>














  <h3 id="Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Precondition_TState" data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_.Precondition-TState">
  Precondition
  <a class="header-action link-secondary" title="View source" href="https://github.com/hedgehogqa/fsharp-hedgehog/blob/master/src/Hedgehog.Stateful/Command.fs/#L32"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Structural precondition that determines if this command can be generated/executed in the given state.
Return true if the command can run, false to skip generation.
This is automatically used by both generation and Require (unless Require is overridden).</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>state</code>: The current model state.</li>
</ul>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Precondition_TState" type="button">F#</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Precondition_TState" type="button">C#</button>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane show active" id="tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Precondition_TState">
        <pre><code class="lang-fsharp hljs">abstract member Precondition : &#39;TState -&gt; bool</code></pre>
      </div>
      <div class="tab-pane" id="tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Precondition_TState">
        <pre><code class="lang-csharp hljs">abstract bool Precondition(TState state)</code></pre>
      </div>
    </div>
  </div>














  <h3 id="Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Require_Env_TState_TInput" data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_.Require-Env-TState-TInput">
  Require
  <a class="header-action link-secondary" title="View source" href="https://github.com/hedgehogqa/fsharp-hedgehog/blob/master/src/Hedgehog.Stateful/Command.fs/#L51"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Check if the command can be executed in the given state with concrete values.
Return false if the command should not be executed in this state.
The env parameter allows resolving symbolic variables from the state.
By default, returns true. Override only when you need to check concrete values with env.
Note: Precondition is always checked separately, so you don't need to duplicate those checks here.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>env</code>: The environment containing resolved values from previous commands.</li>
<li><code>state</code>: The current model state.</li>
<li><code>input</code>: The concrete input value for this command.</li>
</ul>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Require_Env_TState_TInput" type="button">F#</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Require_Env_TState_TInput" type="button">C#</button>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane show active" id="tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Require_Env_TState_TInput">
        <pre><code class="lang-fsharp hljs">abstract member Require : env:Env * state:&#39;TState * input:&#39;TInput -&gt; bool</code></pre>
      </div>
      <div class="tab-pane" id="tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Require_Env_TState_TInput">
        <pre><code class="lang-csharp hljs">abstract bool Require(Env env, TState state, TInput input)</code></pre>
      </div>
    </div>
  </div>














  <h3 id="Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Update_TState_TInput_Var" data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_.Update-TState-TInput-Var">
  Update
  <a class="header-action link-secondary" title="View source" href="https://github.com/hedgehogqa/fsharp-hedgehog/blob/master/src/Hedgehog.Stateful/Command.fs/#L74"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Update the model state after the command executes.
The Var represents the symbolic output that can be referenced by future commands.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>state</code>: The current model state.</li>
<li><code>input</code>: The input value for this command.</li>
<li><code>output</code>: The symbolic output variable that can be referenced by future commands.</li>
</ul>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Update_TState_TInput_Var" type="button">F#</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Update_TState_TInput_Var" type="button">C#</button>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane show active" id="tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Update_TState_TInput_Var">
        <pre><code class="lang-fsharp hljs">abstract member Update : state:&#39;TState * input:&#39;TInput * output:Var&lt;&#39;TOutput&gt; -&gt; &#39;TState</code></pre>
      </div>
      <div class="tab-pane" id="tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Update_TState_TInput_Var">
        <pre><code class="lang-csharp hljs">abstract TState Update(TState state, TInput input, Var&lt;TOutput&gt; output)</code></pre>
      </div>
    </div>
  </div>














  <h3 id="Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Name" data-uid="Hedgehog.Stateful.Command_TSystem, TState, TInput, TOutput_.Name">
  Name
  <a class="header-action link-secondary" title="View source" href="https://github.com/hedgehogqa/fsharp-hedgehog/blob/master/src/Hedgehog.Stateful/Command.fs/#L24"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Human-readable name of the command (e.g., &quot;Push&quot;, &quot;Pop&quot;)</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Name" type="button">F#</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Name" type="button">C#</button>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane show active" id="tab-fsharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Name">
        <pre><code class="lang-fsharp hljs">abstract member Name : string</code></pre>
      </div>
      <div class="tab-pane" id="tab-csharp-Hedgehog_Stateful_Command_TSystem__TState__TInput__TOutput__Name">
        <pre><code class="lang-csharp hljs">abstract string Name()</code></pre>
      </div>
    </div>
  </div>














</article>



      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
